<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug React - Configura√ß√µes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="test-output" style="padding: 20px; background: #f8f9fa;">
        <h2>üîß Debug React Components</h2>
        <div id="test-results"></div>
    </div>

    <div id="configuracoes-react-root">
        <div style="padding: 20px; text-align: center;">
            <p>Carregando...</p>
        </div>
    </div>

    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Componente React -->
    <script src="static/js/components/ConfiguracoesReact.js"></script>

    <script>
        function addTestResult(message, status = 'info') {
            const resultsDiv = document.getElementById('test-results');
            const statusIcon = {
                'success': '‚úÖ',
                'error': '‚ùå',
                'warning': '‚ö†Ô∏è',
                'info': '‚ÑπÔ∏è'
            };
            
            resultsDiv.innerHTML += `
                <div class="alert alert-${status === 'success' ? 'success' : status === 'error' ? 'danger' : status === 'warning' ? 'warning' : 'info'}">
                    ${statusIcon[status]} ${message}
                </div>
            `;
        }

        document.addEventListener('DOMContentLoaded', function() {
            addTestResult('DOM carregado', 'info');
            
            // Teste 1: React carregado?
            if (typeof React !== 'undefined') {
                addTestResult('React carregado com sucesso', 'success');
            } else {
                addTestResult('React N√ÉO foi carregado', 'error');
                return;
            }
            
            // Teste 2: ReactDOM carregado?
            if (typeof ReactDOM !== 'undefined') {
                addTestResult('ReactDOM carregado com sucesso', 'success');
            } else {
                addTestResult('ReactDOM N√ÉO foi carregado', 'error');
                return;
            }
            
            // Teste 3: Componente carregado?
            setTimeout(() => {
                if (typeof ConfiguracoesReact !== 'undefined') {
                    addTestResult('Componente ConfiguracoesReact carregado com sucesso', 'success');
                    
                    // Teste 4: Tentar renderizar
                    try {
                        const root = ReactDOM.createRoot(document.getElementById('configuracoes-react-root'));
                        
                        const testData = {
                            usuario: { first_name: 'Eduardo', username: 'admin' },
                            dataAtual: '14/07/2025',
                            estatisticas: { total_unidades: 25, total_chamadas: 150 },
                            totalUsuarios: 10,
                            isStaff: true,
                            messages: []
                        };
                        
                        root.render(React.createElement(ConfiguracoesReact, testData));
                        addTestResult('Componente renderizado com SUCESSO! üéâ', 'success');
                        
                    } catch (error) {
                        addTestResult(`Erro ao renderizar: ${error.message}`, 'error');
                        console.error('Erro completo:', error);
                    }
                    
                } else {
                    addTestResult('Componente ConfiguracoesReact N√ÉO foi carregado', 'error');
                }
            }, 200);
        });
    </script>
</body>
</html> 