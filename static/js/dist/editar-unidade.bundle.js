/*! For license information please see editar-unidade.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={206:e=>{e.exports=ReactDOM},338:(e,t,a)=>{var n=a(206);t.H=n.createRoot,n.hydrateRoot},947:(e,t,a)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function c(a,n,r,c){var o=n&&n.prototype instanceof s?n:s,u=Object.create(o.prototype);return i(u,"_invoke",function(a,n,r){var c,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,a){return c=t,o=0,i=e,d.n=a,l}};function f(a,n){for(o=a,i=n,t=0;!m&&s&&!r&&t<u.length;t++){var r,c=u[t],f=d.p,p=c[2];a>3?(r=p===n)&&(i=c[(o=c[4])?5:(o=3,3)],c[4]=c[5]=e):c[0]<=f&&((r=a<2&&f<c[1])?(o=0,d.v=n,d.n=c[1]):f<p&&(r=a<3||c[0]>n||n>p)&&(c[4]=a,c[5]=n,d.n=p,o=0))}if(r||a>1)return l;throw m=!0,n}return function(r,u,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),o=u,i=p;(t=o<2?e:i)||!m;){c||(o?o<3?(o>1&&(d.n=-1),f(o,i)):d.n=i:d.v=i);try{if(s=2,c){if(o||(r="next"),t=c[r]){if(!(t=t.call(c,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=c.return)&&t.call(c),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);c=e}else if((t=(m=d.n<0)?i:a.call(n,d))!==l)break}catch(t){c=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(a,r,c),!0),u}var l={};function s(){}function u(){}function m(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),f=m.prototype=s.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=m,i(f,"constructor",m),i(m,"constructor",u),u.displayName="GeneratorFunction",i(m,r,"GeneratorFunction"),i(f),i(f,r,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:p}})()}function i(e,t,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}i=function(e,t,a,n){if(t)r?r(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a;else{var c=function(t,a){i(e,t,function(e){return this._invoke(t,a,e)})};c("next",0),c("throw",1),c("return",2)}},i(e,t,a,n)}function l(e,t,a,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function s(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var c=e.apply(t,a);function o(e){l(c,n,r,o,i,"next",e)}function i(e){l(c,n,r,o,i,"throw",e)}o(void 0)})}}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,a){return(t=v(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}a.d(t,{A:()=>b}),e=a.hmd(e);var E=function(){function e(t){var a,r,i,l,u,f,v,E,h,b,R;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(R=function(e,t,a){return t=d(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,a||[],d(e).constructor):t.apply(e,a))}(this,e,[t]),"initializeAnimations",function(){document.querySelectorAll(".form-section-react").forEach(function(e,t){e.style.animationDelay="".concat(.1*t,"s"),e.classList.add("animate-fade-in")})}),p(R,"loadMunicipios",s(o().m(function e(){var t,a,n;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/municipios/");case 1:if(!(t=e.v).ok){e.n=3;break}return e.n=2,t.json();case 2:a=e.v,R.setState({municipios:a});case 3:e.n=5;break;case 4:e.p=4,n=e.v,console.error("Erro ao carregar municípios:",n);case 5:return e.a(2)}},e,null,[[0,4]])}))),p(R,"searchMunicipios",function(){var e=s(o().m(function e(t){var a,n,r;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&!(t.length<2)){e.n=1;break}return R.setState({municipios:[]}),e.a(2);case 1:return R.setState({searchingMunicipios:!0}),e.p=2,e.n=3,fetch("/api/municipios/autocomplete/?q=".concat(encodeURIComponent(t)));case 3:if(!(a=e.v).ok){e.n=5;break}return e.n=4,a.json();case 4:n=e.v,R.setState({municipios:n});case 5:e.n=7;break;case 6:e.p=6,r=e.v,console.error("Erro ao buscar municípios:",r);case 7:return e.p=7,R.setState({searchingMunicipios:!1}),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(t){return e.apply(this,arguments)}}()),p(R,"handleInputChange",function(e,t){R.setState(function(a){return{formData:c(c({},a.formData),{},p({},e,t)),touched:c(c({},a.touched),{},p({},e,!0))}}),"municipio"===e&&R.searchMunicipios(t)}),p(R,"validateForm",function(){var e=R.state.formData,t={};return e.nome.trim()||(t.nome="Nome é obrigatório"),e.tipo||(t.tipo="Tipo é obrigatório"),e.telefone&&!/^\d{10,11}$/.test(e.telefone.replace(/\D/g,""))&&(t.telefone="Telefone deve ter 10 ou 11 dígitos"),e.email&&!/\S+@\S+\.\S+/.test(e.email)&&(t.email="E-mail inválido"),e.cnes&&!/^\d{7}$/.test(e.cnes)&&(t.cnes="CNES deve ter 7 dígitos"),R.setState({errors:t}),0===Object.keys(t).length}),p(R,"handleSubmit",function(){var e=s(o().m(function e(t){var a,n,r,c;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),R.validateForm()){e.n=1;break}return e.a(2);case 1:return R.setState({loading:!0}),e.p=2,a=R.props.unidade,e.n=3,fetch("/accounts/unidades-saude/".concat(a.id,"/editar/"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":R.getCsrfToken()},body:JSON.stringify(R.state.formData)});case 3:if(!(n=e.v).ok){e.n=4;break}window.location.href="/accounts/unidades-saude/".concat(a.id,"/visualizar/"),e.n=6;break;case 4:return e.n=5,n.json();case 5:r=e.v,R.setState({errors:r.errors||{}});case 6:e.n=8;break;case 7:e.p=7,c=e.v,console.error("Erro ao salvar:",c);case 8:return e.p=8,R.setState({loading:!1}),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(t){return e.apply(this,arguments)}}()),p(R,"getCsrfToken",function(){var e;return(null===(e=document.cookie.split("; ").find(function(e){return e.startsWith("csrftoken")}))||void 0===e?void 0:e.split("=")[1])||""}),p(R,"formatPhone",function(e){var t=e.replace(/\D/g,"");return t.length<=10?t.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):t.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")}),p(R,"getTipoOptions",function(){return[{value:"UNIDADE_EXECUTANTE",label:"Executante",icon:"fas fa-hospital"},{value:"UNIDADE_SOLICITANTE",label:"Solicitante",icon:"fas fa-phone-alt"},{value:"EXECUTANTE_SOLICITANTE",label:"Executante/Solicitante",icon:"fas fa-hospital-user"}]}),R.state={formData:{nome:(null===(a=t.unidade)||void 0===a?void 0:a.nome)||"",tipo:(null===(r=t.unidade)||void 0===r?void 0:r.tipo)||"UNIDADE_EXECUTANTE",municipio:(null===(i=t.unidade)||void 0===i?void 0:i.municipio)||"",endereco:(null===(l=t.unidade)||void 0===l?void 0:l.endereco)||"",telefone:(null===(u=t.unidade)||void 0===u?void 0:u.telefone)||"",cnes:(null===(f=t.unidade)||void 0===f?void 0:f.cnes)||"",responsavel:(null===(v=t.unidade)||void 0===v?void 0:v.responsavel)||"",email:(null===(E=t.unidade)||void 0===E?void 0:E.email)||"",horario_funcionamento:(null===(h=t.unidade)||void 0===h?void 0:h.horario_funcionamento)||"",servicos_emergencia:(null===(b=t.unidade)||void 0===b?void 0:b.servicos_emergencia)||!1},loading:!1,errors:{},touched:{},municipios:[],searchingMunicipios:!1},R}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(e,React.Component),t=e,a=[{key:"componentDidMount",value:function(){this.initializeAnimations(),this.loadMunicipios()}},{key:"render",value:function(){var e=this,t=this.state,a=t.formData,n=t.loading,r=t.errors,c=(t.touched,t.municipios),o=t.searchingMunicipios,i=this.props.unidade;return React.createElement("div",{className:"editar-unidade-container"},React.createElement("div",{className:"edit-header-react"},React.createElement("div",{className:"header-background"}),React.createElement("div",{className:"header-content-react"},React.createElement("div",{className:"header-info"},React.createElement("div",{className:"edit-icon-react"},React.createElement("i",{className:"fas fa-edit"})),React.createElement("div",null,React.createElement("h1",{className:"edit-title-react"},"Editar Unidade"),React.createElement("p",{className:"edit-subtitle-react"},null==i?void 0:i.nome))),React.createElement("div",{className:"header-actions"},React.createElement("a",{href:"/accounts/unidades-saude/".concat(null==i?void 0:i.id,"/visualizar/"),className:"action-btn-react btn-secondary-react"},React.createElement("i",{className:"fas fa-eye"}),React.createElement("span",null,"Visualizar"))))),React.createElement("form",{onSubmit:this.handleSubmit,className:"edit-form-react"},React.createElement("div",{className:"form-section-react"},React.createElement("div",{className:"section-header-react"},React.createElement("div",{className:"section-icon-react"},React.createElement("i",{className:"fas fa-info-circle"})),React.createElement("h3",{className:"section-title-react"},"Informações Básicas")),React.createElement("div",{className:"section-content-react"},React.createElement("div",{className:"form-grid-react"},React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"Nome da Unidade ",React.createElement("span",{className:"required"},"*")),React.createElement("input",{type:"text",className:"form-input-react ".concat(r.nome?"error":""),value:a.nome,onChange:function(t){return e.handleInputChange("nome",t.target.value)},placeholder:"Digite o nome completo da unidade"}),r.nome&&React.createElement("span",{className:"error-message-react"},React.createElement("i",{className:"fas fa-exclamation-circle"}),r.nome)),React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"Tipo ",React.createElement("span",{className:"required"},"*")),React.createElement("div",{className:"radio-group-react"},this.getTipoOptions().map(function(t){return React.createElement("label",{key:t.value,className:"radio-option-react"},React.createElement("input",{type:"radio",name:"tipo",value:t.value,checked:a.tipo===t.value,onChange:function(t){return e.handleInputChange("tipo",t.target.value)}}),React.createElement("div",{className:"radio-custom-react"},React.createElement("i",{className:t.icon}),React.createElement("span",null,t.label)))})),r.tipo&&React.createElement("span",{className:"error-message-react"},React.createElement("i",{className:"fas fa-exclamation-circle"}),r.tipo)),React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"CNES"),React.createElement("input",{type:"text",className:"form-input-react ".concat(r.cnes?"error":""),value:a.cnes,onChange:function(t){return e.handleInputChange("cnes",t.target.value.replace(/\D/g,"").substring(0,7))},placeholder:"Código CNES (7 dígitos)",maxLength:"7"}),r.cnes&&React.createElement("span",{className:"error-message-react"},React.createElement("i",{className:"fas fa-exclamation-circle"}),r.cnes)),React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"Responsável"),React.createElement("input",{type:"text",className:"form-input-react",value:a.responsavel,onChange:function(t){return e.handleInputChange("responsavel",t.target.value)},placeholder:"Nome do responsável"}))))),React.createElement("div",{className:"form-section-react"},React.createElement("div",{className:"section-header-react"},React.createElement("div",{className:"section-icon-react"},React.createElement("i",{className:"fas fa-map-marker-alt"})),React.createElement("h3",{className:"section-title-react"},"Localização")),React.createElement("div",{className:"section-content-react"},React.createElement("div",{className:"form-grid-react"},React.createElement("div",{className:"form-group-react full-width"},React.createElement("label",{className:"form-label-react"},"Município"),React.createElement("div",{className:"autocomplete-wrapper-react"},React.createElement("input",{type:"text",className:"form-input-react",value:a.municipio,onChange:function(t){return e.handleInputChange("municipio",t.target.value)},placeholder:"Digite o nome do município"}),o&&React.createElement("div",{className:"autocomplete-loading"},React.createElement("i",{className:"fas fa-spinner fa-spin"})),c.length>0&&React.createElement("div",{className:"autocomplete-results-react"},c.map(function(t){return React.createElement("div",{key:t.id,className:"autocomplete-item-react",onClick:function(){return e.handleInputChange("municipio",t.nome)}},React.createElement("i",{className:"fas fa-map-marker-alt"}),React.createElement("span",null,t.nome))})))),React.createElement("div",{className:"form-group-react full-width"},React.createElement("label",{className:"form-label-react"},"Endereço"),React.createElement("textarea",{className:"form-textarea-react",value:a.endereco,onChange:function(t){return e.handleInputChange("endereco",t.target.value)},placeholder:"Endereço completo da unidade",rows:"3"}))))),React.createElement("div",{className:"form-section-react"},React.createElement("div",{className:"section-header-react"},React.createElement("div",{className:"section-icon-react"},React.createElement("i",{className:"fas fa-phone-alt"})),React.createElement("h3",{className:"section-title-react"},"Contato")),React.createElement("div",{className:"section-content-react"},React.createElement("div",{className:"form-grid-react"},React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"Telefone"),React.createElement("input",{type:"text",className:"form-input-react ".concat(r.telefone?"error":""),value:this.formatPhone(a.telefone),onChange:function(t){return e.handleInputChange("telefone",t.target.value.replace(/\D/g,""))},placeholder:"(67) 99999-9999"}),r.telefone&&React.createElement("span",{className:"error-message-react"},React.createElement("i",{className:"fas fa-exclamation-circle"}),r.telefone)),React.createElement("div",{className:"form-group-react"},React.createElement("label",{className:"form-label-react"},"E-mail"),React.createElement("input",{type:"email",className:"form-input-react ".concat(r.email?"error":""),value:a.email,onChange:function(t){return e.handleInputChange("email",t.target.value)},placeholder:"email@exemplo.com"}),r.email&&React.createElement("span",{className:"error-message-react"},React.createElement("i",{className:"fas fa-exclamation-circle"}),r.email))))),React.createElement("div",{className:"form-section-react"},React.createElement("div",{className:"section-header-react"},React.createElement("div",{className:"section-icon-react"},React.createElement("i",{className:"fas fa-clock"})),React.createElement("h3",{className:"section-title-react"},"Funcionamento")),React.createElement("div",{className:"section-content-react"},React.createElement("div",{className:"form-grid-react"},React.createElement("div",{className:"form-group-react full-width"},React.createElement("label",{className:"form-label-react"},"Horário de Funcionamento"),React.createElement("textarea",{className:"form-textarea-react",value:a.horario_funcionamento,onChange:function(t){return e.handleInputChange("horario_funcionamento",t.target.value)},placeholder:"Ex: Segunda a Sexta: 7h às 17h",rows:"2"})),React.createElement("div",{className:"form-group-react full-width"},React.createElement("label",{className:"checkbox-label-react"},React.createElement("input",{type:"checkbox",checked:a.servicos_emergencia,onChange:function(t){return e.handleInputChange("servicos_emergencia",t.target.checked)}}),React.createElement("div",{className:"checkbox-custom-react"},React.createElement("i",{className:"fas fa-check"})),React.createElement("span",null,"Oferece serviços de emergência")))))),React.createElement("div",{className:"form-actions-react"},React.createElement("button",{type:"button",className:"btn-cancel-react",onClick:function(){return window.history.back()},disabled:n},React.createElement("i",{className:"fas fa-times"}),React.createElement("span",null,"Cancelar")),React.createElement("button",{type:"submit",className:"btn-save-react",disabled:n},n?React.createElement(React.Fragment,null,React.createElement("i",{className:"fas fa-spinner fa-spin"}),React.createElement("span",null,"Salvando...")):React.createElement(React.Fragment,null,React.createElement("i",{className:"fas fa-save"}),React.createElement("span",null,"Salvar Alterações"))))))}}],a&&u(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a}();function h(){console.log("✏️ Inicializando EditarUnidadeReact");var e=document.getElementById("editar-unidade-react-root");if(e){if("undefined"==typeof React||"undefined"==typeof ReactDOM)return console.error("❌ React não encontrado"),void(e.innerHTML='\n            <div style="padding: 20px; background: #ffeeee; border: 1px solid #ff0000; border-radius: 5px;">\n                <h2>❌ Erro: React não carregado</h2>\n                <p>O React não foi carregado corretamente.</p>\n                <button onclick="window.location.reload()">Recarregar</button>\n            </div>\n        ');if(!window.editUnidadeData||!window.editUnidadeData.unidade)return console.error("❌ Dados da unidade não encontrados"),void(e.innerHTML='\n            <div style="padding: 20px; background: #fff3cd; border: 1px solid #856404; border-radius: 5px;">\n                <h2>⚠️ Dados não encontrados</h2>\n                <p>Os dados da unidade não foram carregados.</p>\n                <button onclick="window.location.reload()">Recarregar</button>\n            </div>\n        ');try{console.log("✅ Renderizando EditarUnidadeReact com dados:",window.editUnidadeData);var t=ReactDOM.createRoot?ReactDOM.createRoot(e):null;t?t.render(React.createElement(E,window.editUnidadeData)):ReactDOM.render(React.createElement(E,window.editUnidadeData),e)}catch(t){console.error("❌ Erro ao renderizar EditarUnidadeReact:",t),e.innerHTML='\n            <div style="padding: 20px; background: #f8d7da; border: 1px solid #721c24; border-radius: 5px;">\n                <h2>❌ Erro de renderização</h2>\n                <p>Erro: '.concat(t.message,'</p>\n                <button onclick="window.location.reload()">Recarregar</button>\n            </div>\n        ')}}else console.error("❌ Container não encontrado: editar-unidade-react-root")}window.EditarUnidadeReact=E,e.exports&&(e.exports=E),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h();const b=E}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={id:n,loaded:!1,exports:{}};return e[n](c,c.exports,a),c.loaded=!0,c.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const n=React;var r=a.n(n),c=a(338),o=a(947),i=document.getElementById("editar-unidade-root");i&&(0,c.H)(i).render(r().createElement(o.A,null))})();
//# sourceMappingURL=editar-unidade.bundle.js.map